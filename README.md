<p align="center">
    <h1 align="center">Task Management System</h1>
</p>
<p align="center">
    <em> 📖 This repo is for implement simple spring application to manage tasks by two type of users [regular user / admin]</em>
  </br>
</p>

---

## 📍 Project Requirments
- Spring boot version 3.3.4
- Java version 17
- Apache Maven 3.9.6
- Docker Engine
  
## 📍 How to install 
- downlod project from this repo
- or git clone https://github.com/OSalmona/Task-Management-System.git

## 📍 How to Run application by Docker
- We should have a docker engine installed in our machine
- run command : docker build -t tms_image .
- run command : docker run -p 8080:8080 tms_image
- Now We Can access Our end points through postman 
- data base created automaticaaly when project run 

## 📍 How to Run application in our macine
- application run on server port 8080 so it will be http://localhost:8080
- data base created automaticaaly when project run 
      - http://localhost:8080/h2-console </br>
      - username : sa </br>
      - password : </br>
  
## 📍 Project Properties
- Database : H2 database
- Server Port : 8080
- spring.h2.console.path=/h2-console
- spring.datasource.url=jdbc:h2:mem:banquemisrDB
- spring.datasource.password=
- deafult users :
  </br>
  1- email: 1@admin.com -> password : 12345
  </br>
  2- email: 1@user.com  ->  password : 12345
  </br>
  3- email: 2@user.com  -> password : 12345
  </br>

---

## 📍 example :: How to Test application by admin 
- we can do that by postman
- Register New admin account
  ![image](https://github.com/user-attachments/assets/350b36bf-04db-4e5a-b9a2-9a54cba9937c)
- test paginationAndSort end point for admin
 by /api/v1/tasks/paginationAndSort/0/5/status_id end point
- ![image](https://github.com/user-attachments/assets/da4806ba-bc72-417c-a1d4-865f57858bd9)

## 📍 example :: How to Test application by regular user 
- we can do that by postman
- login with one of predefined user in database [email: 1@user.com  ->  password : 12345]
  by /api/v1/auth/authenticate end point 
  ![image](https://github.com/user-attachments/assets/7d527929-b885-4766-93ca-48501b9744b9)

- test paginationAndSort end point for regular user
- by /api/v1/tasks/paginationAndSort/0/5/status_id end point
![image](https://github.com/user-attachments/assets/0ba98f97-4341-4180-9037-c485aee92717)

---

## 📍 Project Features
- Register / login (authentication using jwt)
- regular user have permission
    - create task
    - update task
    - delete task
    - get all task related to him
    - search and filter by any task criteria (id / title / description / due date)
- radmin have permission
    - update any task
    - get all tasks in the system
    - search and filter by any task criteria (id / title / description / due date / user_id)
- send periodic remainder email for user before 24h on her task duedate using SMTP gmail
- Pagination approach in search and filter end points

---

## 📍 Database Entitites
![image](https://github.com/user-attachments/assets/76fbc284-e8d1-48f9-99f9-8612d8915b9a)
</br>
``` mysql
DROP TABLE task;
DROP TABLE task_status;
DROP TABLE task_priority;
DROP TABLE _user;

create table _user (id bigint generated by default as identity,
        email varchar(255),
        firstname varchar(255),
        lastname varchar(255),
        password varchar(255),
        role enum ('ADMIN','USER'),
        primary key (id));

create table task (id bigint generated by default as identity,
        created_on date, description varchar(255),
        due_date date, title varchar(255),
        updated_on date,
        priority_id bigint,
        status_id bigint,
        user_id bigint,
        primary key (id));

create table task_priority (id bigint generated by default as identity,
        name varchar(255),
        primary key (id));

create table task_status (id bigint generated by default as identity,
        name varchar(255),
        primary key (id));

alter table if exists task
add constraint priority_FK foreign key (priority_id) references task_priority ;

alter table if exists task
add constraint status_FK foreign key (status_id) references task_status;

alter table if exists task
add constraint user_FK foreign key (user_id) references _user ;
```

---

## 📍 End Points APIs
![image](https://github.com/user-attachments/assets/617c1890-b8a0-4480-8be0-5dea70e16b26)

---

## 🔗 Quick Links 
- h2 databae : http://localhost:8080/h2-console
- swagger-ui : http://localhost:8080/swagger-ui/index.html

